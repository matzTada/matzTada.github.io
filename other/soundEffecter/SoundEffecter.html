<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Sound Effecter</title>

    <script type="text/javascript" src="https://code.jquery.com/jquery-3.4.1.min.js"></script>

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css"/>
    <style type="text/css">
      table tr.odd td { /*highligh odd number*/
        background: #555555;
      }
      table td.highlight {
        background: #FFFF00;
      }
    </style>
  </head>
  <body>
    <h1>SoundEffecter</h1>

    <h3>Key-binding Board</h3>
    <table id="table_key_bind_board" class="table table-bordered" rules="all"></table>

    <h3 id="h3_stop" style="border: solid;">h3_stop sounds</h3>

    <h3>Key-binding Table</h3>
    <table id="table_key_bind_table" class="table table-bordered" rules="all"></table>
  </body>

<script language="javascript" type="text/javascript">
console.log("JavsScript called!!")

var key_sound_dict = {
  "1" : { name : "question1", simplename : "ã‚¯ã‚¤ã‚º", memo : "ãƒ‡ãƒ‡ãƒ³ã€€ã“ã“ã§å•é¡Œã§ã™" },
  "2" : { name : "correct1", simplename : "ã€‡", memo : "ã€‡æ­£è§£ï¼ãƒ”ãƒãƒ”ãƒãƒ”ãƒãƒ¼ãƒ³" },
  "3" : { name : "incorrect1", simplename : "Ã—", memo : "Ã—ä¸æ­£è§£ï¼ãƒ–ãƒƒãƒ–ãƒ¼" },

  "4" : { name : "cat-cry1", simplename : "ğŸˆã­ã“", memo : "ã«ã‚ƒãƒ¼ã€€çŒ«" },
  "5" : { name : "dog1", simplename : "ğŸ•ã„ã¬", memo : "ã‚ã‚“ã‚ã‚“ã€€çŠ¬" },

  "6" : { name : "tin1", simplename : "ğŸ›ãƒ™ãƒ«", memo : "ãƒãƒ¼ãƒ³" },

  "7" : { name : "self-regulation1", simplename : "è¦åˆ¶", memo : "ãƒ”ãƒ¼ã€€è‡ªä¸»è¦åˆ¶" },

  "8" : { name : "bicycle-bell1", simplename : "ğŸš²ï¾ï½¬ï¾˜", memo : "ãƒãƒªãƒ³ãƒãƒªãƒ³ã€€è‡ªè»¢è»Š" },

  "9" : { name : "camera-shutter1", simplename : "ğŸ“·ï½¶ï¾’ï¾—", memo : "ã‚«ã‚·ãƒ£ã‚«ã‚·ãƒ£ã€€ã‚«ãƒ¡ãƒ©ã‚·ãƒ£ãƒƒã‚¿ãƒ¼éŸ³" },

  "0" : { name : "clearing1", simplename : "ğŸ’²ãƒ¬ã‚¸", memo : "ã¡ã‚ƒããƒ¼ã‚“ã€€ãƒ¬ã‚¸ã®éŸ³" },

  "q" : { name : "drum-roll1", simplename : "ğŸ¥ï¾›ï½°ï¾™", memo : "ãƒ‰ãƒ©ãƒ ãƒ­ãƒ¼ãƒ«" },
  "w" : { name : "costume-drama1", simplename : "ã‚«ã‚¡ã‚¡", memo : "ã‚«ã‚¡ã‚¡ã€€ãƒ“ãƒ–ãƒ©ã‚¹ãƒ©ãƒƒãƒ—" },
  "e" : { name : "trumpet1", simplename : "ğŸº", memo : "ãƒ†ãƒ¬ãƒ†ãƒ†ãƒƒãƒ†ãƒ†ãƒ¼ã€€ãƒˆãƒ©ãƒ³ãƒšãƒƒãƒˆ" },

  "r" : { name : "extend1", simplename : "â‡§ä¸Šã¸", memo : "ãµãƒ¼ã‚ã‚“ã€€å ´é¢åˆ‡ã‚Šæ›¿ãˆ" },
  "t" : { name : "shrink1", simplename : "â‡©ä¸‹ã¸", memo : "ãƒ’ãƒ¥ã‚ªãƒ¼ãƒ³ã€€ã‚‚ã®ãŒè½ã¡ã‚‹éŸ³"},
  "y" : { name : "boyon1", simplename : "ãƒœãƒ¨ãƒ³", memo : "ãƒœãƒ¨ãƒ³ã€€ãƒãƒ©ãƒ³ã‚¹ãƒœãƒ¼ãƒ«ã§ã¯ã˜ã‹ã‚Œã‚‹æ„Ÿã˜" },
  "u" : { name : "boyoyon1", simplename : "ï¾‹ï¾ï¾–ï¾–ï½°ï¾", memo : "ãƒ“ãƒ¨ãƒ¨ãƒ¼ãƒ³ã€€ä¼¸ã³ã‚‹æ„Ÿã˜ã®éŸ³" },

  "a" : { name : "eye-shine1", simplename : "<ï½·ï½­ï¾‹ï¾Ÿï½°ï¾", memo : "ã‚­ãƒ¥ãƒ”ãƒ¼ãƒ³ï¼ã€€ç›®ãŒå…‰ã‚‹æ„Ÿã˜" },
  "s" : { name : "kira1", simplename : "âœ¨ï½·ï¾—ï¾˜ï¾", memo : "ã‚­ãƒ©ã‚­ãƒ©ãƒªãƒ¼ãƒ³" },
  "d" : { name : "magic-cure4", simplename : "â˜€é™è‡¨", memo : "ãƒ•ã‚¡ãƒ¼ãƒ³ã€€ç¥è–ãªæ„Ÿã˜" },
  "f" : { name : "magic-stick1", simplename : "â˜¤é­”æ³•", memo : "é­”æ³•ã®æ–" },

  "g" : { name : "stupid6", simplename : "ï¾ï¾œï¾^3", memo : "ã»ã‚ã‚“ã»ã‚ã‚“ã»ã‚ã‚“ã€€ãƒœã‚±" },
  "h" : { name : "fate2", simplename : "é‹å‘½", memo : "ã¡ã‚ƒã‚‰ã‚‰ãƒ¼ã‚“ã¡ã‚ƒã‚‰ã‚‰ã‚‰ã‚‰ãƒ¼ã‚‰ãƒ¼ã‚“ã€€é‹å‘½" },

  "j" : { name : "punch-high1", simplename : "ğŸ‘Š", memo : "ãƒ‰ã‚¥ã‚¯ã‚·ã€€ãƒ‘ãƒ³ãƒ" },
  "k" : { name : "kick-low1", simplename : "ğŸ‘£", memo : "ãƒã‚·ãƒƒã€€ã‚­ãƒƒã‚¯" },

  "z" : { name : "mens-yeah1", simplename : "ï½²ï½´ï½°ï½²!", memo : "ã‚¤ã‚§ãƒ¼ãƒƒï¼" },
  "x" : { name : "people_people-performance-cheer1", simplename : "ï½·ï½¬ï½°!", memo : "ãƒ’ãƒ¥ãƒ¼ãƒ‘ãƒãƒ‘ãƒã€€æ‹æ‰‹" },

  "c" : { name : "glass-break2", simplename : "ï½¶ï¾ï¾—ï½½å‰²", memo : "ã‚¬ãƒ©ã‚¹ãŒå‰²ã‚Œã‚‹éŸ³"},

  "v" : { name : "phone-ringtone1", simplename : "â˜", memo : "ç€ä¿¡éŸ³"},


  // "" : { name : "shakin1", simplename : "sn", memo : "memo" },
  // "" : { name : "gun1", simplename : "sn", memo : "memo" },
  // "" : { name : "beamgun3", simplename : "sn", memo : "memo" },
  // "" : { name : "bomb1", simplename : "sn", memo : "memo" },

  // "" : { name : "amami-nature1", simplename : "sn", memo : "memo"},
  // "" : { name : "ambulance-siren1", simplename : "sn", memo : "memo"},
  // "" : { name : "ambulance-siren2", simplename : "sn", memo : "memo"},
  // "" : { name : "apple1", simplename : "sn", memo : "memo"},
  // "" : { name : "beamgun-shot1", simplename : "sn", memo : "memo"},
  // "" : { name : "blink1", simplename : "sn", memo : "memo"},
  // "" : { name : "bowling-pin1", simplename : "sn", memo : "memo"},
  // "" : { name : "broadcasting-end1", simplename : "sn", memo : "memo"},
  // "" : { name : "broadcasting-start1", simplename : "sn", memo : "memo"},
  // "" : { name : "chicken-cry1", simplename : "sn", memo : "memo"},
  // "" : { name : "cork-plug1", simplename : "sn", memo : "memo"},
  // "" : { name : "corvus-corone-cry1", simplename : "sn", memo : "memo"},
  // "" : { name : "corvus-macrorhynchos-cry1", simplename : "sn", memo : "memo"},
  // "" : { name : "flash2", simplename : "sn", memo : "memo"},
  // "" : { name : "fly1", simplename : "sn", memo : "memo"},
  // "" : { name : "gong-played1", simplename : "sn", memo : "ã‚«ãƒ³ï¼ã€€è©¦åˆé–‹å§‹"},
  // "" : { name : "gong-played2", simplename : "sn", memo : "ã‚«ãƒ³ã‚«ãƒ³ã‚«ãƒ³ï¼ã€€è©¦åˆçµ‚äº†"},
  // "" : { name : "gun-reload1", simplename : "sn", memo : "memo"},
  // "" : { name : "heavy-machine-gun1", simplename : "sn", memo : "memo"},
  // "" : { name : "helicopter-pass2", simplename : "sn", memo : "memo"},
  // "" : { name : "hyoushigi3", simplename : "sn", memo : "æ‹å­æœ¨"},
  // "" : { name : "hyun1", simplename : "sn", memo : "memo"},
  // "" : { name : "katana-clash1", simplename : "sn", memo : "memo"},
  // "" : { name : "katana-clash4", simplename : "sn", memo : "memo"},
  // "" : { name : "katana-gesture2", simplename : "sn", memo : "memo"},
  // "" : { name : "katana-slash5", simplename : "sn", memo : "memo"},
  // "" : { name : "kick-middle1", simplename : "sn", memo : "memo"},
  // "" : { name : "machdash1", simplename : "sn", memo : "ãƒ’ãƒ¥ãƒ¼ãƒ³ã€€F1"},
  // "" : { name : "machinegun1", simplename : "sn", memo : "memo"},
  // "" : { name : "machinegun2", simplename : "sn", memo : "memo"},
  // "" : { name : "magic-cure3", simplename : "sn", memo : "memo"},
  // "" : { name : "magic-poison2", simplename : "sn", memo : "memo"},
  // "" : { name : "magic-reflection1", simplename : "sn", memo : "memo"},
  // "" : { name : "mens-hajimei1", simplename : "sn", memo : "memo"},
  // "" : { name : "microwave-tin1", simplename : "sn", memo : "memo"},
  // "" : { name : "minminzemi-cry1", simplename : "sn", memo : "memo"},
  // "" : { name : "mobile-phone-vibration1", simplename : "sn", memo : "memo"},
  // "" : { name : "money-drop1", simplename : "sn", memo : "memo"},
  // "" : { name : "monorail-bell", simplename : "sn", memo : "memo"},
  // "" : { name : "monster4", simplename : "sn", memo : "memo"},
  // "" : { name : "patrol-car1", simplename : "sn", memo : "memo"},
  // "" : { name : "people_people-performance-ee1", simplename : "sn", memo : "memo"},
  // "" : { name : "people_people-performance-uwaa1", simplename : "sn", memo : "memo"},
  // "" : { name : "people_people-studio-kyaa1", simplename : "sn", memo : "memo"},
  // "" : { name : "people_stadium-buzz1", simplename : "sn", memo : "memo"},
  // "" : { name : "punch-high2", simplename : "sn", memo : "memo"},
  // "" : { name : "punch-real-swing1", simplename : "sn", memo : "memo"},
  // "" : { name : "punch-real1", simplename : "sn", memo : "memo"},
  // "" : { name : "qigong2", simplename : "sn", memo : "memo"},
  // "" : { name : "roll-finish1", simplename : "sn", memo : "memo"},
  // "" : { name : "school-chime1", simplename : "sn", memo : "memo"},
  // "" : { name : "scream-woman1", simplename : "sn", memo : "memo"},
  // "" : { name : "shakin1", simplename : "sn", memo : "memo"},
  // "" : { name : "shine1", simplename : "sn", memo : "memo"},
  // "" : { name : "ship-big-whistle2", simplename : "sn", memo : "memo"},
  // "" : { name : "shot1", simplename : "sn", memo : "memo"},
  // "" : { name : "slap1", simplename : "sn", memo : "memo"},
  // "" : { name : "switch1", simplename : "sn", memo : "memo"},
  // "" : { name : "sword-clash4", simplename : "sn", memo : "memo"},
  // "" : { name : "sword-drawn1", simplename : "sn", memo : "memo"},
  // "" : { name : "sword-gesture1", simplename : "sn", memo : "memo"},
  // "" : { name : "sword-gesture3", simplename : "sn", memo : "memo"},
  // "" : { name : "sword-slash1", simplename : "sn", memo : "memo"},
  // "" : { name : "train-horn2", simplename : "sn", memo : "memo"},
  // "" : { name : "trumpet2", simplename : "sn", memo : "memo"},
  // "" : { name : "warning2", simplename : "sn", memo : "memo"},
  // "" : { name : "whip-attack-2", simplename : "sn", memo : "memo"},
  // "" : { name : "wind1", simplename : "sn", memo : "memo"},
  // "" : { name : "zipper1", simplename : "sn", memo : "memo"},
}

// initialize
$(function(){

  $("body").css('font-size', '3em');
  $("body").css('color', 'white');
  $("body").css('background-color', 'black');

  // === create  key bind table header
  var keyboard_sequence_array = [
    ["1","2","3","4","5","6","7","8","9","0"],
    ["q","w","e","r","t","y","u","i","o","p"],
    ["a","s","d","f","g","h","j","k","l"],
    ["z","x","c","v","b","n","m"]
  ]

  keyboard_sequence_array.forEach((line) => {
    var adding_str = "";

    adding_str += "<tr>";

    line.forEach((key) => {
      adding_str += ""
        + "<td id=\""
        + key
        + "\">"
        + key
        + "<br />";
      adding_str += (key_sound_dict[key]) ? key_sound_dict[key].simplename : "(nul)"
      adding_str += "</td>";
    });

    adding_str += "</tr>";

    $("#table_key_bind_board").append(adding_str);
  });

  // === create  key bind table header
  $("#table_key_bind_table").append(
  "<tr>"
  + "<th>" + "key" +  "</th>"
  + "<th>" + "name" +  "</th>"
  + "<th>" + "memo" +  "</th>"
  + "</tr>");
  Object.keys(key_sound_dict).forEach((key) => {
    $("#table_key_bind_table").append(
      "<tr>"
      + "<td>" + key +  "</td>"
      + "<td>" + key_sound_dict[key].name +  "</td>"
      + "<td>" + key_sound_dict[key].memo +  "</td>"
      + "</tr>");
  });
  $('#table_key_bind_table tr:odd').addClass('odd');

  // === initialize sounds
  Object.keys(key_sound_dict).forEach((key) => {
    key_sound_dict[key].sound = new Audio();
    tmpmusic = key_sound_dict[key].sound;
    tmpmusic.preload = "auto";
    tmpmusic.src = "./sounds/" + key_sound_dict[key].name + ".mp3";
    tmpmusic.load();

    $('#' + key).on('click', function(event) {
      console.log("clicked : ", key)
      soundDisplayByKey(key);
    });

  });

  $('#h3_stop').on('click', function(event) {
    soundDisplayByKey("");
  });


  // === set keyboard function
  $("html").on("keypress", function(e) {
    var key = e.key;
    console.log("keypress called : ", key);
    soundDisplayByKey(key);
  });

  function soundDisplayByKey(_key){
    if(key_sound_dict[_key]){
      $('#'+_key).addClass('highlight');

      var tmpmusic = key_sound_dict[_key].sound;
      tmpmusic.currentTime = 0;
      tmpmusic.play();

      tmpmusic.addEventListener("ended", function () {
        $('#'+_key).removeClass('highlight');
      }, false);

    }else{
      Object.keys(key_sound_dict).forEach((key) => {
        key_sound_dict[key].sound.pause();
        $('#'+key).removeClass('highlight');
      });
    }
  }


});

</script>
</html>
